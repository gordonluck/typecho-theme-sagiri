"use strict";function postScroll(){var e;e=isMobile()?180:500;var t=document.body.scrollTop||document.documentElement.scrollTop,o=document.body.clientHeight||document.documentElement.clientHeight,n=document.body.scrollHeight||document.documentElement.scrollHeight;document.body.scrollTop<500&&(document.body.scrollTop+=10),document.documentElement.scrollTop<500&&(document.documentElement.scrollTop+=10),(e<=t||n-1<=o+t)&&clearInterval(postScrolltimer)}function isMobile(){for(var e=navigator.userAgent,t=["Android","iPhone","SymbianOS","Windows Phone","iPad","iPod"],o=0;o<t.length;o++)for(var n=t[o];e.includes(n);)return!0}var q,i=function(){for(x.clearRect(0,0,w,h),q=[{x:0,y:.7*h+f},{x:0,y:.7*h-f}];q[1].x<w+f;)d(q[0],q[1])},d=function(e,t){x.beginPath(),x.moveTo(e.x,e.y),x.lineTo(t.x,t.y);var o=t.x+(2*z()-.25)*f,n=y(t.y);x.lineTo(o,n),x.closePath(),r-=u/-50,x.fillStyle="#"+(127*v(r)+128<<16|127*v(r+u/3)+128<<8|127*v(r+u/3*2)+128).toString(16),x.fill(),q[0]=q[1],q[1]={x:o,y:n}},y=function e(t){var o=t+(2*z()-1.1)*f;return h<o||o<0?e(t):o},c=document.getElementById("ribbons"),x=c.getContext("2d"),pr=window.devicePixelRatio||1,w=window.innerWidth,h=window.innerHeight,f=90,m=Math,r=0,u=2*m.PI,v=m.cos,z=m.random;function liveTime(e){if(!e)throw Error("未指定日期！");e=new Date(e);var t=Math.floor((new Date).getTime()-e.getTime())/864e5,o=Math.floor(t),n=24*(t-o),r=Math.floor(n),l=60*(n-r),c=Math.floor(60*(n-r)),i=Math.floor(60*(l-c));document.querySelector("#live-time").innerText="( •̀ ω •́ ) 被续 "+o+" 天 "+r+" 小时 "+c+" 分 "+i+" 秒"}c.width=w*pr,c.height=h*pr,x.scale(pr,pr),x.globalAlpha=.6,document.onclick=i,(document.ontouchstart=i)(),function(){new miniPjax({target:"a",body:"#root",container:[".content-wrap","#sidebar"]});var t=document.querySelector(".site-nav"),e=navigator.userAgent;/.*Firefox.*/.test(e)?document.addEventListener("DOMMouseScroll",function(e){0<(e=e||window.event).detail?(t.style.transform="translateY(-100%)",console.log("firefox ↓")):(t.style.transform="translateY(0%)",console.warn("firef ↑"))},{passive:!0}):document.onmousewheel=function(e){0<(e=e||window.event).wheelDelta?(t.style.transform="translateY(0%)",console.warn("↑")):(t.style.transform="translateY(-100%)",console.warn("↓"))};var n=document.querySelector(".sidebar-inner");n&&document.addEventListener("scroll",function(e){var t=e.target.body.scrollTop||e.target.documentElement.scrollTop,o=document.querySelector(".site-nav");o.style.boxShadow=500<=t?(o.style.background="rgba(255,255,255,.8)","0 0 2px 2px rgba(172,172,172,.4)"):(o.style.background="rgba(255, 255, 255, 0.1)","none"),500<=e.target.body.scrollTop||500<=e.target.documentElement.scrollTop?n.classList.add("affix"):n.classList.remove("affix")},{passive:!0});var o=document.querySelector(".btn-pay");o&&o.addEventListener("click",function(e){var t=document.querySelector(".qr");"0px"==t.style.height?t.style.height="auto":t.style.height=0});var r=document.querySelectorAll("img"),l=document.querySelector(".img-view"),c=document.querySelector(".img-view > img");Array.from(r).forEach(function(e){e.onclick=function(){c.src=this.src,c.alt=this.alt,"block"==l.style.display||""==l.style.display?(l.style.display="none",document.body.style.overflow="auto"):(l.style.display="block",document.body.style.overflow="hidden")}})}();